!function(n){var e={};function r(t){if(e[t])return e[t].exports;var o=e[t]={i:t,l:!1,exports:{}};return n[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=n,r.c=e,r.d=function(n,e,t){r.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:t})},r.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,e){if(1&e&&(n=r(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var o in n)r.d(t,o,function(e){return n[e]}.bind(null,o));return t},r.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(e,"a",e),e},r.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},r.p="",r(r.s=0)}([function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./tableComponent/tableComponent.js\nfunction ComponentTable(id) {\r\n  const container = document.querySelector(id);\r\n  const addCol = document.createElement('button');\r\n  const addRow = document.createElement('button');\r\n  const delCol = document.createElement('button');\r\n  const delRow = document.createElement('button');\r\n\r\n  const addContainer = document.createElement('div');\r\n  const deleteContainer = document.createElement('div');\r\n  const boxesContainer = document.createElement('div');\r\n  const containerTable = document.createElement('div');\r\n\r\n  addContainer.classList.add('add-btns-container');\r\n  deleteContainer.classList.add('delete-btns-container');\r\n  boxesContainer.classList.add('boxes-container');\r\n  containerTable.classList.add('container-table');\r\n\r\n  addCol.classList.add('add-col', 'add');\r\n  addRow.classList.add('add-row', 'add');\r\n  delCol.classList.add('del-col', 'delete');\r\n  delRow.classList.add('del-row', 'delete');\r\n\r\n  addCol.innerText = '+';\r\n  addRow.innerText = '+';\r\n  delCol.innerText = '-';\r\n  delRow.innerText = '-';\r\n\r\n  addContainer.append(addCol);\r\n  addContainer.append(addRow);\r\n  deleteContainer.append(delCol);\r\n  deleteContainer.append(delRow);\r\n\r\n  containerTable.append(addContainer);\r\n  containerTable.append(deleteContainer);\r\n  containerTable.append(boxesContainer);\r\n\r\n  container.append(containerTable);\r\n\r\n  let colsCounter = 4;\r\n  let rowsCounter = 4;\r\n  let currentCol = 0;\r\n  let currentRow = 0;\r\n  let left = 0;\r\n  let top = 0;\r\n\r\n  const boxFullSize = 52;\r\n\r\n  const hideButton = (btn) => {\r\n    const button = btn;\r\n    button.style.display = 'none';\r\n  };\r\n  const showButton = (btn) => {\r\n    const button = btn;\r\n    button.style.display = 'block';\r\n  };\r\n\r\n  const createCol = (row, n) => {\r\n    for (let i = 0; i < n; i += 1) {\r\n      const col = document.createElement('div');\r\n\r\n      col.classList.add('col');\r\n      row.append(col);\r\n    }\r\n  };\r\n\r\n  const createRow = (table, n) => {\r\n    for (let i = 0; i < n; i += 1) {\r\n      const row = document.createElement('div');\r\n\r\n      row.classList.add('row');\r\n      createCol(row, colsCounter);\r\n      table.append(row);\r\n    }\r\n  };\r\n\r\n  const rowsDataIndex = () => {\r\n    const rows = boxesContainer.querySelectorAll('.row');\r\n\r\n    rows.forEach((row, index) => {\r\n      const rowWithIndex = row;\r\n      const cols = row.querySelectorAll('.col');\r\n\r\n      rowWithIndex.dataset.rowIndex = index;\r\n      cols.forEach((col, i) => {\r\n        const colWhithIndex = col;\r\n\r\n        colWhithIndex.dataset.colIndex = i;\r\n      });\r\n    });\r\n  };\r\n\r\n  createRow(boxesContainer, rowsCounter);\r\n  rowsDataIndex();\r\n\r\n  addRow.addEventListener('click', () => {\r\n    rowsCounter += 1;\r\n    createRow(boxesContainer, rowsCounter - boxesContainer.children.length);\r\n    if (rowsCounter === 2) {\r\n      showButton(delRow);\r\n      console.log('вызов');\r\n    }\r\n    rowsDataIndex();\r\n  });\r\n\r\n  addCol.addEventListener('click', () => {\r\n    colsCounter += 1;\r\n    const rows = boxesContainer.querySelectorAll('.row');\r\n    rows.forEach((row) => {\r\n      createCol(row, colsCounter - row.children.length);\r\n    });\r\n    if (colsCounter === 2) {\r\n      showButton(delCol);\r\n      console.log('вызов');\r\n    }\r\n    rowsDataIndex();\r\n  });\r\n\r\n  delRow.addEventListener('click', () => {\r\n    const rows = container.querySelectorAll('.row');\r\n    const rowsLength = rows.length - 1;\r\n    rows[currentRow].remove();\r\n    if (rowsLength < 2) {\r\n      hideButton(delRow);\r\n    }\r\n    delRow.style.transform = `translateY(${(rowsLength === currentRow\r\n      ? (rowsLength - 1) * boxFullSize\r\n      : currentRow * boxFullSize\r\n    )}px)`;\r\n    currentRow = (rowsCounter - 1 > currentRow ? currentRow : currentRow - 1);\r\n    rowsCounter -= 1;\r\n    rowsDataIndex();\r\n  });\r\n\r\n  delCol.addEventListener('click', () => {\r\n    const rows = container.querySelectorAll('.row');\r\n    const colLength = rows[0].children.length - 1;\r\n\r\n    rows.forEach((row) => {\r\n      const cols = row.querySelectorAll('.col');\r\n      row.removeChild(cols[currentCol]);\r\n    });\r\n    if (colLength < 2) {\r\n      hideButton(delCol);\r\n    }\r\n    delCol.style.transform = `translateX(${(colLength === currentCol\r\n      ? (colLength - 1) * boxFullSize\r\n      : currentCol * boxFullSize\r\n    )}px)`;\r\n    currentCol = (colsCounter - 1 > currentCol ? currentCol : currentCol - 1);\r\n    colsCounter -= 1;\r\n    rowsDataIndex();\r\n  });\r\n\r\n  container.addEventListener('mouseenter', () => {\r\n    const colsLength = container.querySelectorAll('.row')[0].children.length;\r\n    const rowsLength = container.querySelectorAll('.row').length;\r\n    if (colsLength > 1) {\r\n      showButton(delCol);\r\n    }\r\n    if (rowsLength > 1) {\r\n      showButton(delRow);\r\n    }\r\n  });\r\n\r\n  containerTable.addEventListener('mouseover', (event) => {\r\n    if (event.target.classList.contains('col')) {\r\n      currentCol = +event.target.dataset.colIndex;\r\n      currentRow = +event.target.parentNode.dataset.rowIndex;\r\n    }\r\n    delRow.style.transform = `translateY(${currentRow * boxFullSize}px)`;\r\n    delCol.style.transform = `translateX(${currentCol * boxFullSize}px)`;\r\n  });\r\n\r\n  container.addEventListener('mouseleave', () => {\r\n    hideButton(delCol);\r\n    hideButton(delRow);\r\n  });\r\n\r\n  const containerMover = (event) => {\r\n    const mousePosition = {\r\n      x: event.clientX,\r\n      y: event.clientY,\r\n    };\r\n    containerTable.style.left = `${mousePosition.x + left}px`;\r\n    containerTable.style.top = `${mousePosition.y + top}px`;\r\n  };\r\n\r\n  boxesContainer.addEventListener('mousedown', (event) => {\r\n    const containerTableRect = containerTable.getBoundingClientRect();\r\n    const eventReact = event.target.getBoundingClientRect();\r\n    left = containerTableRect.left - eventReact.left - event.offsetX;\r\n    top = containerTableRect.top - eventReact.top - event.offsetY;\r\n\r\n    window.addEventListener('mousemove', containerMover);\r\n  });\r\n\r\n  boxesContainer.addEventListener('mouseup', () => {\r\n    window.removeEventListener('mousemove', containerMover);\r\n  });\r\n}\r\n\n// CONCATENATED MODULE: ./index.js\n\r\n\r\nconst Table = () => new ComponentTable('#root');\r\n// const Table2 = new ComponentTable('#root');\r\n\r\nTable();\r\n\n\n//# sourceURL=webpack:///./index.js_+_1_modules?")}]);