!function(n){var r={};function e(o){if(r[o])return r[o].exports;var l=r[o]={i:o,l:!1,exports:{}};return n[o].call(l.exports,l,l.exports,e),l.l=!0,l.exports}e.m=n,e.c=r,e.d=function(n,r,o){e.o(n,r)||Object.defineProperty(n,r,{enumerable:!0,get:o})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,r){if(1&r&&(n=e(n)),8&r)return n;if(4&r&&"object"==typeof n&&n&&n.__esModule)return n;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:n}),2&r&&"string"!=typeof n)for(var l in n)e.d(o,l,function(r){return n[r]}.bind(null,l));return o},e.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(r,"a",r),r},e.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},e.p="",e(e.s=0)}([function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./framework/core/module.js\nclass Module {\r\n    constructor(config) {\r\n        this.components = config.components;\r\n    }\r\n\r\n    start() {\r\n        this.initComponents();\r\n    }\r\n\r\n    initComponents() {\r\n        this.components.forEach(c => c.render());\r\n        this.components.forEach(c => c.work());\r\n    }\r\n\r\n\r\n}\n// CONCATENATED MODULE: ./framework/core/component.js\nclass Component {\r\n    constructor(config) {\r\n        this.selector = config.selector;\r\n        this.template = config.template;\r\n        this.logics = config.logics;\r\n        this.id = config.id;\r\n    }\r\n\r\n    render() {\r\n        document.querySelector(this.selector).innerHTML = this.template;\r\n    }\r\n\r\n    work() {\r\n        this.logics(this.id);\r\n    }\r\n}\n// CONCATENATED MODULE: ./framework/core/start.js\nfunction startFW(module) {\r\n    module.start();\r\n}\n// CONCATENATED MODULE: ./framework/index.js\n\r\n\r\n\r\n\r\n\r\n\n// CONCATENATED MODULE: ./comp1/app.comp.logics.js\nconst logics = (id) => {\r\n    var counter = 1;\r\n    var container = document.querySelector(`.container-${id}`);\r\n    var addRow = container.querySelector('.add-row');\r\n    var addCol = container.querySelector('.add-col');\r\n    var delRow = container.querySelector('.del-row');\r\n    var delCol = container.querySelector('.del-col');\r\n    var colIndex = 0;\r\n    var rowIndex = 0;\r\n\r\n    var createBox = (col, n) => {\r\n        for(let i = 0; i < n; i++) {\r\n            let box = document.createElement('div');\r\n            box.classList.add('box');\r\n            col.append(box);\r\n        }\r\n    };\r\n\r\n    var createCol = () => {\r\n        let col = document.createElement('div');\r\n        col.classList.add('col');\r\n        container.append(col);\r\n        createBox(col, counter);\r\n    };\r\n\r\n\r\n    addCol.addEventListener('click', () => {\r\n        createCol();\r\n        delCol.disabled = false;\r\n    });\r\n\r\n    addRow.addEventListener('click', () => {\r\n        counter ++;\r\n        let cols = container.querySelectorAll('.col');\r\n        cols.forEach(col => {\r\n            createBox(col, counter-col.children.length);\r\n        });\r\n    });\r\n\r\n\r\n    delCol.addEventListener('click', () => {\r\n        let cols = container.querySelectorAll('.col');\r\n        cols.forEach((col, index) => {\r\n            if(index === colIndex) {\r\n                col.remove();\r\n            }\r\n            delCol.style.transform = `translateX(${index*104/2-52}px)`;\r\n            delCol.style.display = \"none\";\r\n            delRow.style.display = \"none\";\r\n        });\r\n        if(cols.length <3) {\r\n            delCol.disabled = true;\r\n            delCol.style.display = \"none\";\r\n        }\r\n    });  \r\n\r\n    delRow.addEventListener('click', (event) => {\r\n        let cols = container.querySelectorAll('.col');\r\n        cols.forEach((col, index) => {\r\n            let boxes = col.querySelectorAll('.box');\r\n            col.removeChild(boxes[rowIndex]);\r\n            delRow.style.transform = `translateY(${(boxes.length-1)*104/2-52}px)`;\r\n            delCol.style.display = \"none\";\r\n            delRow.style.display = \"none\";\r\n\r\n            if(col.children.length <2) {\r\n                delRow.disabled = true;\r\n                delRow.style.display = \"none\";\r\n            }\r\n        });\r\n        counter--;\r\n\r\n    });\r\n\r\n    container.addEventListener('mouseover', (event) => {\r\n        let cols = container.querySelectorAll('.col');\r\n            delCol.style.display = 'block';\r\n            delRow.style.display = 'block';\r\n\r\n        if(cols.length <2) {\r\n            delCol.disabled = true;\r\n            delCol.style.display = \"none\";\r\n        } else {\r\n            delCol.disabled = false;\r\n            delCol.style.display = \"block\";\r\n        }\r\n\r\n        cols.forEach((col, index) => {\r\n\r\n            if(col.children.length <2) {\r\n                delRow.disabled = true;\r\n                delRow.style.display = \"none\";\r\n            } else {\r\n                delRow.disabled = false;\r\n                delRow.style.display = \"block\";\r\n            }\r\n\r\n            if (event.target.parentNode === col) {\r\n                colIndex = index;\r\n                delCol.style.transform = `translateX(${index*104/2}px)`\r\n                let boxes = col.querySelectorAll('.box'); \r\n            \r\n                boxes.forEach((box, i) => {\r\n                    if(event.target === box) {\r\n                        rowIndex = i;\r\n                        delRow.style.transform = `translateY(${i*104/2}px)`\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    });\r\n\r\n    container.addEventListener('mouseout', () => {\r\n        delCol.style.display = 'none';\r\n        delRow.style.display = 'none';\r\n    });\r\n};\n// CONCATENATED MODULE: ./comp1/app.component.js\n\r\n\r\n\r\nclass app_component_AppComponent extends Component {\r\n    constructor(config) {\r\n        super(config);\r\n    }\r\n}\r\n\r\nlet id = 1;\r\n\r\nconst appComponent = new app_component_AppComponent ({\r\n    selector: 'root',\r\n    template: `\r\n    <div class=\"container-${id}\">\r\n        <div class=\"col\">\r\n            <div class=\"box\"></div>\r\n        </div>\r\n        <button class=\"add add-row\">+</button>\r\n        <button class=\"add add-col\">+</button>\r\n        <button class=\"delete del-row\">-</button>\r\n        <button class=\"delete del-col\" disabled>-</button>\r\n    </div>\r\n    `,\r\n    logics: logics,\r\n    id:id\r\n});\n// CONCATENATED MODULE: ./comp1/app.module.js\n\r\n\r\n \r\n\r\n\r\nclass app_module_AppModule extends Module {\r\n    constructor(config) {\r\n        super(config);\r\n    }\r\n}\r\n\r\nconst appModule = new app_module_AppModule({\r\n    components: [\r\n        appComponent\r\n    ]\r\n});\n// CONCATENATED MODULE: ./index.js\n\r\n\r\n\r\n\r\n\r\nstartFW(appModule);\n\n//# sourceURL=webpack:///./index.js_+_7_modules?")}]);